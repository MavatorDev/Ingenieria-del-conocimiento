import pandas as pd 
from sklearn.model_selection import train_test_split
from sklearn import linear_model
from sklearn.metrics import mean_squared_error
from sklearn.metrics import r2_score
import matplotlib.pyplot as plt

datos=pd.read_csv('energydata.csv')
dframe=pd.DataFrame(datos)
x=dframe[['T8','T_out',]]
y=dframe[['RH_8','RH_out']]

print("Datos originales")
print(dframe)
#mostramos qu√© tenemos

X_train,X_test,y_train,y_test=train_test_split(x,y,test_size=0.5)
print("X_train")
print(X_train)
print("y_train")
print(y_train)

#X_train=X_train.values.reshape([X_train.values.shape[0],0])
#X_test=X_test.values.reshape([X_test.values.shape[0],0])

regresion=linear_model.LinearRegression()
regresion.fit(X_train,y_train)
ypredict=regresion.predict(X_test)

#graficas
plt.scatter(X_train,y_train,color='blue')
plt.scatter(X_train,y_train,color='red')

#Error
print("Error: ",mean_squared_error(y_test,ypredict))
print("El valor de r^2: ",r2_score(y_test,ypredict))

